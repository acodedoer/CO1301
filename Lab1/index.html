<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://acodedoer.github.io/CO1301/assets/style.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r126/three.min.js" integrity="sha512-n8IpKWzDnBOcBhRlHirMZOUvEq2bLRMuJGjuVqbzUJwtTsgwOgK5aS0c1JA647XWYfqvXve8k3PtZdzpipFjgg==" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/three@0.126.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.7/dat.gui.min.js" integrity="sha512-LF8ZB1iTwi4Qvkm4pekHG4a437Y9Af5ZuwbnW4GTbAWQeR2E4KW8WF+xH8b9psevV7wIlDMx1MH9YfPqgKhA/Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
 
    <!-- and it&#039;s easy to individually load additional languages -->
    <script charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/go.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <title>CO1301 - Lab 1: Introduction to TL-Engine</title>
    <style>
        .webgl {
            height: 30%;
        }

        .model{
            height: 360px;
        }
        .model-viewer{
            display: flex;
            flex-direction: row;
            justify-content: center;
            border: 0.5em dashed black;
            padding: 0.5em;
            text-align: center;
        }
        
        .interactive-scene{
            border: 0.5em dashed black;
            padding: 0.5em;
            text-align: center;
        }
    </style>
</head>
<body>
    <header><h1>CO1301: Games Concepts <br> Lab 1 - Introduction to the TL-Engine</h1></header>
    <main>
        <section>
                <h2>1. Introduction</h2>
                <div class="section_instrcutions"></div>
                    <ol>
                        <li>
                            <div class="list-div">
                                    <p class= "instruction-item">This lab worksheet will help you write your first TL-Engine program.
                                    </p>
                                </div>
                        </li>
                        <li>
                            <div class="list-div">
                                <p class= "instruction-item">This lab sheet involves a lot of reading as concepts and tools are introduced for the first time. Later lab sheets will tend to be shorter, with more work for you to do!
                                </p>
                            </div>
                        </li>
                        <li>
                            <div class="list-div">
                                <p class= "instruction-item">Finally, it is important that you <b>name the projects you create in each lab with the names suggested in the lab's sheet, and save them in a secure and accessible location (e.g. your UCLan provided cloud storage or Github)</b>. This is important because references will be made to projects from previous labs as we progress through the module.
                                </p>
                            </div>
                        </li>
                    </ol>
                </div>
            </section>
        <section>
            <h2>2. Starting a new TL-Engine project</h2>
            <div class="section_instrcutions"></div>
                <ol>
                    <li>
                        <div class="list-div">
                                <p class= "instruction-item">
                                    Start by creating a TL-Engine project for Visual Studio 2019. This project should be named <b>Lab1_Introduction_Project</b>.
                                </p>
                            </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                <a target="_blank" href="https://portal.uclan.ac.uk/bbcswebdav/pid-4812513-dt-content-rid-14033126_1/courses/CO1301_202122_1_9/Labs_HTML/Lab0/gettingstarted.html" >See sections 2 and 3 from this link </a> for instructions on creating a TL-Engine project.
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                               Open the project in Visual Studio 2019.
                            </p>
                        </div>
                    </li>
                </ol>
            </div>
        </section>
        <section>
            <div class="section_instrcutions">
                <h2>3. Using C++ Syntax</h2>
                <ol>
                    <li >
                        <div class="list-div">
                                <p class= "instruction-item"><b>C++</b> is a programming language that gives programmers high level control over system resources and memory. It is is one of the world's most popular programming languages and the language used to build most big console and PC games.</p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                                <p class= "instruction-item">C++ programming will be taught to you as part of another module. However, this module will use the TL-Engine to introduce you to the features and concepts of C++ that are standard in the games development industry.</p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                                <p class= "instruction-item">In CO1111 you used appinventor blocks to initialise variables for storing text, numbers, colors etc. You will also be using variables when programming in C++. However, working with varaibles is done a little differently in C++.</p>
                            </div>
                        </li>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">C++ has different variable types for storing different types of data (<b>int</b> for storing integers (whole numbers), <b>bool</b> for storing boolean values, <b>string</b> for storing text). The data type of a variable must be stated when declaring it to specify the type of data that the variable can store. Examples of variable declaration in C++ are shown below:</p>
                                
<pre><code>int length; // an integer variable named length is declared for storing whole numbers
string name; // a string variable named name is declared for storing text data
float speed; // a float variable named speed is declared for storing floating point - decimal numbers
bool check; // a boolean variable named check that can only take the values 'true' and 'false'</code></pre>

                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                                <p class= "instruction-item">You can assign a value to a variable. Assignment is done using the equals symbol and can be done when or after declaring a variable.</p>

<pre><code>int number = 10; // number is assigned a value of 10 when declared
bool check;   //check is first declared
check = true; // then check is assigned a value of true</code></pre>

                            Note: Assignment is not the same as 'equals'!
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                                <p class= "instruction-item">The contents of a variable can be changed as shown in the examples below:</p>

<pre><code>int i = 4;
i++; // i now has a value of 5, the ++ operatore increments a the value of a variable by 1

bool check = true;
check = false; // the value of check is changed to false

string name;
name = "Alex"; // the value of name is Alex
name = "";    // the value of name is changed to an empty string</code></pre>

                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                                <p class= "instruction-item">While using the TL-Engine you will be using standard C++ variable types as well as custom variable types. An example of a variable declaration using a custom type is shown below:</p>

<pre><code>I3DEngine* myEngine; // I3Dengine is a TL-Engine specific type for storing instances of a 3D engine</code></pre>
                            <p>
                                The type 'I3DEngine*' is not a C++ type; it is specific to the TL-Engine. Also note that it is being used with a 'pointer' – the symbol '*'. You will be introduced to both custom types and pointers later in CO1401. For now just remember that 'I3DEngine*' is a type just like an int or a float, but specific to the TL-Engine.
                            </p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">The TL-Engine has many 'functions' that you can use. A function is a block of program code that performs a particular calculation or task. You can use a built-in C++ function in your own code when you want to perform a calculation or task – it saves you from writing the code yourself. There are some C++ functions that you may have seen already:</p>

<pre><code>float squareRoot = sqrt(16); // sqrt() is a standard C++ function to calculate the square root of a number
system( "pause" ); // system() is a function that issues a special system command to the computer</code></pre>

                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                                <p class= "instruction-item">In the 'sqrt' example notice how the number 16 is 'passed' to the function (in brackets) i.e. given as input to the function. Also notice that the 'sqrt' function calculates a result – and this result is put into the variable 'SquareRoot'. </p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                                <p class= "instruction-item">In the second example, the string 'pause' is passed to the 'System' function, but there is no result – this function simply performs a task (waits for a key press).</p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                                <p class= "instruction-item">You will see functions like this in the TL-Engine. Some are passed values (sometimes several values), and some are not. Also some return results, although again, some don't. The use of each function will be explained to you in the worksheets, with examples given.</p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                                <p class= "instruction-item">Finally, most functions in the TL-Engine must be used through a variable:</p>

<pre><code>I3DEngine* myEngine; // I3Dengine is a TL-Engine specific variable type
myEngine->DrawScene(); // DrawScene is a function ("method") of myEngine </code></pre>
                            <p>
                            In the above code, a variable named 'myEngine' is declared, then 'DrawScene()' is used on the variable (notice the use of the '->' symbol to indicate this usage). In plain English, the two lines of code state: "create a 3D engine and call it myEngine, then use myEngine to draw a scene". Functions like DrawScene() are called methods.</p>
                        </div>
                    </li>
                </ol>
            </div>
        </section>
        <section>
            <h2>4. The TL-Engine Template Code</h2>
            <div class="section_instrcutions">
                <ol>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                Open your created project in Visual Studio 2019 and open the file with the extension '.cpp' using Visual Studio's "Solution Explorer" to the right of the screen. You can see that the TL-Engine wizard provides you with a template source code, don't delete it – it is useful!</p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                             <p class= "instruction-item">The template follows a structure that is common to game programs known as the "game code structure". The structure provides sections to setup, run and terminate games properly. These sections are <em>initialisation</em>, <em>game loop</em>, and <em>termination</em>; they are also shown in the code snippet below.
                             </p>
                             
<pre><code>#include < game engine libraries >
Start game engine

//initialisation 
Load game objects from disk             
Set initial positions for game objects 

//game loop 
while (game is playing)                 
{
    Draw the game scene on screen
    Move/Animate game objects
}                                       

//termination
Release resources                       
Stop game engine                        
End program</code></pre>

                       </div>
                    </li>
                    <li >
                        <div class="list-div">
                                <p class= "instruction-item">Now let us go over our template code. The first line contains a comment, followed by the inclusion of the TL-Engine file which contains all the information needed to use the engine. Following the include statement is a "using namespace" statement: all of the TL-Engine is 'hidden' inside a 'namespace' so it does not get mixed up with standard C++ or other libraries. This statement says that we want to expose the contents of the namespace so we can use its contents easily. These opening lines must begin all programs using the TL-Engine, you do not need to understand their detail, just make sure they are there.</p>

<pre><code>// Lab 1 - Introduction.cpp: A program using the TL-Engine
#include  < TL-Engine.h > // TL-Engine include file and namespace
using namespace tle;</code></pre>

                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                                <p class= "instruction-item">In the next lines we see the 'main' function, it is where the execution of all C++ programs begin.</p>

<pre><code>void main()
{</code></pre>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                             <p class= "instruction-item">
                                    The main function begins with the initialisation section. Everything that is needed to get the game going is setup in this section. This includes initialising variables and loading resources (e.g. models and sounds).
                            </p>      

<pre><code>// Create a 3D engine (using TLX engine here) and open a window for it
I3DEngine* myEngine = New3DEngine( kTLX );
myEngine->StartWindowed();

// Add default folder for meshes and other media
myEngine->AddMediaFolder( "C:\\ProgramData\\TL-Engine\\Media" );

/**** Set up your scene here ****/</code></pre>

                            <p>In the code above, a variable called 'myEngine' is declared and its type is an 'I3DEngine*'. All you need to know now is that the variable 'myEngine' will be your interface to the TL-Engine, meaning you will use the TL-Engine's features 'through' this variable.</p>
                            
                            <p>After declaring the 'myEngine' variable, it is initialised by using a function/method: 'New3DEngine(kTLX)''. In plain English that means "I want to use a 3D engine of the TLX variety, and I will call it myEngine".</p>
                            
                            <p>The next line is the first use of this new engine we have prepared. See how we use "myEngine->StartWindowed()" to say, "I want myEngine to start up in a window".</p>
                            
                            <p>The next line tells the engine to look in the folder provided (the folder chosen when TL-Engine was installed) for any files (e.g. 3D objects) that you load later on. Any resources you want to load to your game, should be loaded after this line of code.</p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">Next comes the game loop section of the template code which executes in a loop until told to stop.</p>

<pre><code>// The main game loop, repeat until engine is stopped
while (myEngine->IsRunning())
{
    // Draw the scene
    myEngine->DrawScene();

    /**** Update your scene each frame here ****/
}</code></pre>
                            <p>
                            Currently the only code inisde this game loop is code that tells the 3D engine declared in the initialisation stage (myEngine) to draw the scene. Code can be added to the game loop to check for player input and update game objects in each iteration. The game loop's ability to perform several iterations every second and display updated <em>frames</em> creates the animation seen when playing games.
                            </p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item"> The final section, the termination section cleans up after the game, and releases all the memory resources used by the game. It contains a single line of code that deletes the 3D engine that you created at the beginning:</p>

<pre><code>// Delete the 3D engine now we are finished with it
myEngine->Delete();</code></pre>
                            <p>
                            If we don't do this then the resources used by the 3D engine will remain in the computer's memory after the program is finished, but no other program will be able to access them. This is called a memory leak - it will affect the performance of the computer, so this line is important.
                            </p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">Now that we have some understanding of what the code template does, let us add code to make things more interesting.
                            </p>
                        </div>
                    </li>
                </ol>
            </div>
        </section>
        <section>
            <h2>5. Adding Your Own Code</h2>
            <div class="section_instrcutions">
                <ol>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">In this section we will add code to the template code to declare new variables, load a mesh, create a model and a camera to display our scene.
                            </p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">Start by adding the code below in the initialisation section. Place it below <code>/**** Set up your scene here ****/</code></p>

<pre><code>IMesh* cubeMesh;
IModel* cube;</code></pre>
                            <p>
                            The above code declares two variables, a mesh variable and a model variable. Note how we use the same pointer syntax (*) as before when declaring a 3D engine variable, these variables will be used in the same way as 'myEngine'.
                        </p>
                            
                    <p>
                            A mesh is a 3D object generated by an artist and saved in a file. A model is a single copy of a mesh in our scene. At first, this might seem similar - but remember that a single mesh can be used to create several models in your scene (e.g. we may have a single tree mesh, but make a forest in our game using 20 models created from this mesh). Consider a mesh as a 'blueprint' for creating models.</p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">Next, type the code below: </p>

<pre><code>cubeMesh = myEngine->LoadMesh( "Cube.x" );
cube = cubeMesh->CreateModel();</code></pre>
                            <p>
                            The first line here uses the 3D engine (myEngine) to load a file and put it into our declared mesh variable (cubeMesh). Notice how we need to go 'through' the variable 'myEngine' again using "->". Think about this as asking myEngine to perform a service for us (loading a mesh) - the 3D engine must do this job, as it needs to keep track of all new meshes. So in English, the code is saying:
                            "Use myEngine to load a mesh called 'cube.x' and put it in the variable 'cubeMesh' ".
                        </p>
                    <p>
                            In the second line, the mesh is used as a blueprint to create a model. Note that the syntax is similar to what we used to load the mesh using the 3D engine, but this time the mesh is used to create a model. In English, the code is saying: "Use the cubeMesh blueprint to create a model in the scene and put it in the variable 'cube' ".</p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">The last piece of code we need to add to the initialisation section is the code below:</p>

<pre><code>ICamera* myCamera;
myCamera = myEngine->CreateCamera( kFPS );</code></pre>
                            <p>
                            The first line declares a variable named 'myCamera' that will be used hold a camera. The second line of code uses a similar syntax similar to what we have used when loading a mesh and creating a model. In English the code is saying: "Use myEngine to create a camera of type FPS and put it in the variable myCamera". FPS is a "first person shooter" camera that can be moved around with the mouse and cursor keys.</p>
                    </li>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">
                                We are now done with the initialisation section and the game loop section already has code that draws the scene when the game is executed. Therefore when you run the project now, the 3D engine draws the  scene using the viewpoint of our camera - the scene will be drawn into the window we opened earlier (in the initialisation section). We asked for a controllable FPS camera, so the image drawn will update and change as we move the camera around uisng keyboard or mouse.
                            </p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                             <p class= "instruction-item">Run the program (press the play icon or F5). You should now see a model and you can 'fly' around using the mouse and cursor keys.</p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">
                            When you run your project your FPS camera may be moving too fast, you can add a delay loop to slow it down. Add the code that follows inside the game loop immediately after <code>/**** Update your scene each frame here ****/</code> and run your project again.

<pre><code>for(int delay=0; delay < 1000000; delay++) { 
    /* empty body */ 
} </code></pre>

                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">
                                Any changes or updates on game objects while the game is executing need to be performed in the game loop.
                            </p>
                        </div>
                    </li>
                </ol>
            </div>
        </section>
        <section>
            <h2>6. Practice Exercises</h2>
            <p>
            The sections that follow contain practice exercises on loading, positioning and movement; please attemp all these exercises. You should be able to complete the first three sections with little to no difficulty. If you finish these exercises in the lab, then move on to the extra and advanced exercises by following the links at the end of this sheet, else try the advanced exercises in your time.
        </p>
            <div class="section_instrcutions">
                <h3>Loading</h3>
                <ol>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">Here is a list of mesh filenames that can be loaded with the 'LoadMesh' function that we used in 4.3 (section 4, task 3).
                                <ul>
                                    <li>"Cube.x"</li>
                                    <li>"Torus.x"</li>
                                    <li>"Sphere.x"</li>
                                    <li>"Grid.x"</li>
                                    <li>"TwoPence.x"</li>
                                </ul>
                            </p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">Our existing code can be updated to display a sphere instead of a cube by changing the name of the loaded mesh in 4.3 from 'Cube.x' to 'Sphere.x'.
                            </p>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">Update the code to display the a torus using the 'Torus.x' mesh and run the program to make sure you have achived the desired result.
                            </p>
                            <span class="hint-div">
                                <a href="#">HINT</a>
                                <p class = "hint"></p>
                                <img  class = "hint" src =""/>
                            </span>
                        </div>
                    </li>
                    <li >
                        <div class="list-div">
                            <p class= "instruction-item">If we want to load more than one mesh at a time, we need to declare additional IMesh* variable(s) to put the new mesh in. Now display both the 'Cube.x' and 'Torus.x' in your program. Remeber, you will need to add new mesh and model variables (with sensible new names).
                            </p>
                            <span class="hint-div">
                                <a href="#">HINT</a>
                                <p class = "hint"></p>
                                <img  class = "hint" src =""/>
                            </span>
                        </div>
                    </li>
                </ol>
            </div>
            <div class="section_instrcutions">
                <h3>Positioning</h3>
                    <ol>
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">All the models we have created so far have been created in the same position in the scene. We can choose to create our models at different positions by using "Cartesian cordinates" to specify exactly where in the scene we want a model to be created.
                                </p>
                            </div>
                        </li>
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">It is easier to understand Cartesian coordinates by loading an example model. 
                                </p>
                            </div>
                        </li>
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">Save your project, then create and open a new TL-Engine project. 
                                </p>
                            </div>
                        </li>
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">Add code to load and display a grid using the "Grid.x" mesh. You can copy some of your code from the previous project. 
                                </p>
                            </div>
                        </li>
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">When you run your project a grid will be displayed. The grid has lines that are marked with numbers, and each line represents a Cartesian cordsinate axis. The X axis runs horizontally from left (negative) to right (positive) of the grid; the Y axis runs vertically from down (negative) to up (positive), and  the Z axis goes from the screen (negative) into the scene (positive); these are the three axes (plural form of axis, pronounced 'ack-sees') of the Caretsian cordinate system. At the center of the model is the origin, it is marked with 0 because at this point the values of X, Y and Z are all 0 (you can inspect a copy of the grid model in the interactive scene below)</p>
                                <div class="model-viewer">
                                    <model-viewer src="https://acodedoer.github.io/CO1301/Lab1/models/grid.glb"  class="model"   id="grid-model" interpolation-decay="200" alt="A 3D model of an grid" ar ar-modes="webxr scene-viewer quick-look" environment-image="neutral" ></model-viewer>
                                </div>           
                            </div>
                        </li>
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">Now add code to your project to display a cube so that your project displays both the grid and the cube. Run your project.
                                </p>
                            </div>
                        </li>
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">You will notice that the cube is created at the center of the grid, where the 0 marking is i.e. where x = 0, y = 0, and z = 0. This is because whenever the CreateModel method is used to create a model without specifying the intial position of the model, it is created at the origin of the scene.
                                </p>
                            </div>
                        </li>
                        <li >
                            <div class="list-div">Before you change the position of your cube in your code, play around with the values of x, y and z in the interactive scene below to understand how the values of cartesian cordinates can be used to determine unique positions.</p>
                            <div class ="interactive-scene">
                                <canvas class="webgl"></canvas>
                                <div class="container">
                                    <button id="decX" data-decrease>-x</button>
                                    <input id ="valX" data-value type="text" value="0"  />
                                    <button id="incX" data-increase>+x</button>
                                </div>
                                <div class="container">
                                    <button id="decY" data-decrease>-y</button>
                                    <input id ="valY" data-value type="text" value="0" />
                                    <button id="incY" data-increase>+y</button>
                                </div>
                                <div class="container">
                                    <button id="decZ" data-decrease>-z</button>
                                    <input id ="valZ" data-value type="text" value="0" />
                                    <button id="incZ" data-increase>+z</button>
                                </div>
                            </div>
                            </div>
                        </li> 
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">Now update your code by passing three values to set the initial position of the cube  as shown below:
                                </p>

<pre><code>cube = cubeMesh->CreateModel( 10, 0, 20 );</code></pre>
                                    <p>
                                    This positions the model using 'Cartesian coordinates', with x = 10, y = 0 and z = 20. Run the project and see the new position of your cube.</p>
                                    <p>
                                    Is the cube where you expected it to be? Set the x, y, and z values in the interactive scene to the values used in your code to verify your result</p>
                                </p>
                            </div>
                        </li>
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">Experiment with a few different x and z positions for the cube. Then try altering the y position. Keep all the values less than 50. Can you tell the length of each of the cube's sides?
                                </p>
                                <span class="hint-div">
                                    <a href="#">HINT</a>
                                    <p class = "hint"></p>
                                    <img  class = "hint" src =""/>
                                </span>
                            </div>
                        </li>
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">From the scenes your program displayed and the scene snapshots shown above, can you tell the length of each of the cube's sides?
                                </p>
                                <span class="hint-div">
                                    <a href="#">HINT</a>
                                    <p class = "hint"></p>
                                    <img  class = "hint" src =""/>
                                </span>
                            </div>
                        </li>    
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">You should have noticed that the length of the sides of the cube is 10. This is clearer when you position the cube so that it sits on the floor of the grid and to the right of the origin using the code below:
<pre><code>cube = cubeMesh->CreateModel( 5, 5, -5 );</code></pre>
                            </div>
                        </li> 
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">Add another cube to your program by declaring a new IModel* variable and putting a cube mesh model into it. Remember that you do not have to declare a new IMesh* variable and load a new cube mesh whenever you want to create an addional cube, you can create as many cube models as you want with the cube mesh you have loaded already (as long as you have the IModel* variables to put them in to).
                                </p>
                            </div>
                        </li>
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">See if you can stack the two cubes you have on top of each other.
                                </p>
                                <span class="hint-div">
                                    <a href="#">HINT</a>
                                    <p class = "hint"></p>
                                    <img  class = "hint" src =""/>
                                </span>
                            </div>
                        </li>
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">Add and display a sphere in your program.
                                </p>
                                <span class="hint-div">
                                    <a href="#">HINT</a>
                                    <p class = "hint"></p>
                                    <img  class = "hint" src =""/>
                                </span>
                            </div>
                        </li>
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">Now stack two cubes on the sphere.
                                </p>
                                <span class="hint-div">
                                    <a href="#">HINT</a>
                                    <p class = "hint"></p>
                                    <img  class = "hint" src =""/>
                                </span>
                            </div>
                        </li>
                        <li >
                            <div class="list-div">
                                <p class= "instruction-item">Save your project at this point by selecting 'File->Save All'
                                </p>
                            </div>
                        </li>
                    </ol>
                </div>
                <div class="section_instrcutions">
                    <h3>Rotation and Movement</h3>
                        <ol>
                            <li >
                                <div class="list-div">
                                    <p class= "instruction-item">Create a new TL-Engine project and name it <b>Lab1_Movement_Project</b>. Open the project.
                                    </p>
                                </div>
                            </li>
                            <li >
                                <div class="list-div">
                                    <p class= "instruction-item">Write code to load and display a grid and a cube (copy some of your code from the previous project).
                                    </p>
                                    <span class="hint-div">
                                        <a href="#">HINT</a>
                                        <p class = "hint"></p>
                                        <img  class = "hint" src =""/>
                                    </span>
                                </div>
                            </li>
                            <li >
                                <div class="list-div">
                                    <p class= "instruction-item">In the game loop of our program, we can add code to update the scene e.g. to move or rotate our models. If we move a model by a small amount inside the game loop, then it will move continuously as the loop repeats, same will happen with rotation.
                                    </p>
                                </div>
                            </li>
                            <li >
                                <div class="list-div">
                                    <p class= "instruction-item">Add this line inside the game loop:
                                    </p>

<pre><code>cube->RotateY( 0.05 );</code></pre>

                                    <p>This will make the cube rotate by a small amount each time the loop repeats. This effectively spins the cube.
                                    </p>
                                </div>
                            </li>
                            <li >
                                <div class="list-div">
                                    <p class= "instruction-item">Now change the sign of the parameter passed to the rotation method in your code i.e. change it from 0.05 to -0.05. Run your project and note the difference.
                                    </p>
                                </div>
                            </li>
                            <li >
                                <div class="list-div">
                                    <p class= "instruction-item">Hopefully, you noticed that the cube spins around its y-axis as indicated by the name 'RotateY', and the direction of its spin is determined by the sign of the parameter passed (i.e. whether its negative or positive). Can you guess what will happen if the cube is rotated about its x-axis? What if it is rotated about its z-axis? What if the rotation method is placed outside the game loop? Verify your guesses by changing the values in the interactive scene below.</p>
                                    </div>
                                    <div class="model-viewer">
                                        <model-viewer src="https://acodedoer.github.io/CO1301/Lab1/models/cube_axis.glb" class="model" id="rotation-model"  interpolation-decay="200" alt="A 3D model of an grid" ar ar-modes="webxr scene-viewer quick-look" environment-image="neutral" >
                                            <select name="rotation-select" id="rotation-select">
                                                <option value="x">RotateX</option>
                                                <option value="y">RotateY</option>
                                                <option value="z">RotateZ</option>
                                            </select>

                                            <input type="number" id="rotation-degrees" name="rotation-degrees" min="-360" value="0" max="360">
                                            <select name="loop-select" id="loop-select">
                                                <option value="true">Place inside game loop</option>
                                                <option value="false">Place outside game loop</option>
                                            </select>
                                        </model-viewer>
                                    </div>    
                            </li>
                            </li>
                            <li >
                                <div class="list-div">
                                    <p class= "instruction-item">Here is a list of some of the movement and rotation functions available for models. Note that the word 'void' on the left means that these functions don't calculate a value, they just perform a task. The word 'float' in the brackets means you must pass a float value to these functions (the amount to move or rotate). The examples written as comments on the right show how these functions should appear in your code:
                                    </p>

<pre><code>void RotateX( float ); // e.g. cube->RotateX( 0.05 );
void RotateY( float ); // e.g. sphere->RotateY( -0.1 );
void RotateZ( float ); // e.g. torus->RotateZ( 0.3 );
void MoveX( float ); // e.g. torus->MoveX( 0.1 );
void MoveY( float ); // e.g. cube->MoveY( -0.2 );
void MoveZ( float ); // e.g. cube->MoveZ( 0.4 ); </code></pre>
                                    <span class="hint-div">
                                        <a href="#">HINT</a>
                                        <p class = "hint"></p>
                                        <img  class = "hint" src =""/>
                                    </span>
                                </div>
                            </li>
                            <li >
                                <div class="list-div">
                                    <p class= "instruction-item">Now write the appropriate code to rotate the cube around the other two axes.
                                    </p>
                                    <span class="hint-div">
                                        <a href="#">HINT</a>
                                        <p class = "hint"></p>
                                        <img  class = "hint" src =""/>
                                    </span>
                                </div>
                            </li>
                            <li >
                                <div class="list-div">
                                    <p class= "instruction-item">Try to use the MoveX function to move the cube to the left.
                                    </p>
                                    <span class="hint-div">
                                        <a href="#">HINT</a>
                                        <p class = "hint"></p>
                                        <img  class = "hint" src =""/>
                                    </span>
                                </div>
                            </li>
                            <li >
                                <div class="list-div">
                                    <p class= "instruction-item">Now change the code so that the cube moves to the right.
                                    </p>
                                    <span class="hint-div">
                                        <a href="#">HINT</a>
                                        <p class = "hint"></p>
                                        <img  class = "hint" src =""/>
                                    </span>
                                </div>
                            </li>
                            <li >
                                <div class="list-div">
                                    <p class= "instruction-item">Save your project
                                    </p>
                                </div>
                            </li>
                        </ol>
                    </div>
                    <div class="section_instrcutions">
                            <h3>Further Positioning</h3>
                                <ol>
                                    <li >
                                        <div class="list-div">
                                            <p class= "instruction-item">There are more functions available for positioning e.g. for setting the position of an object, and for getting the position of an object.</p>

<pre><code>// The Set functions allow you to set the X, Y or Z coordinates of a model to a given value
void SetX( float ); // e.g. cube1->SetX( -20 );
void SetY( float ); // e.g. cube2->SetY( 10 );
void SetZ( float ); // e.g. cube2->SetZ( 7.5 );

// Set all axes at once (as CreateModel)
void SetPosition ( float X, float Y, float Z ); // e.g. myModel->SetPosition( 20, 0, 10 );

// The Get functions return the current X, Y or Z position of a model
float GetX(); // e.g. xpos = sphere->GetX();
float GetY(); // e.g. if (sphere->GetY() > 10)
float GetZ(); // e.g. zpos = sphere->GetZ();</code></pre>

                                            <p>Note that the 'Get' functions calculate a float value (indicated by the word ‘float’ on the left), look carefully at the example usage.
                                            </p>
                                        </div>
                                    </li>
                                    <li >
                                        <div class="list-div">
                                            <p class= "instruction-item">
                                                Using the appropriate method from those provided above, update your code so that your camera is positioned at ( 0, 0, -50 ).
                                            </p>
                                        </div>
                                    </li>
                                </ol>
                            </div>
        </section>
        <section>
                <h2>7. Extra Exercises</h2>
                <ol>
                <li >
                    <div class="list-div">
                        <p class= "instruction-item">
                            <a target="_blank" href="https://portal.uclan.ac.uk/bbcswebdav/courses/CO1301_202122_1_9/Labs_HTML/Lab1/positioning_exercise.html">Practice loading and positioning models by creating mega structures.</a> 
                        </p>
                    </div>
                </li>
                <li >
                    <div class="list-div">
                        <p class= "instruction-item">
                            <a target="_blank" href="https://portal.uclan.ac.uk/bbcswebdav/courses/CO1301_202122_1_9/Labs_HTML/Lab1/advance.html">Practice implementing advanced movement, you will need to use your programming skills (specifially selection using "if" statements) from The Four Week Challenge.</a> 
                        </p>
                    </div>
                </li>
            </ol>
        </section>

    </main>
    <script src="https://acodedoer.github.io/CO1301/assets/script.js" type="text/javascript"></script>
    <script>
        (() => {
          const modelViewer = document.querySelector('#grid-model');
          const orbitCycle = [
            '45deg 55deg 4m',
            '-45deg 55deg 2m',
            modelViewer.cameraOrbit
          ];
        
          setInterval(() => {
            const currentOrbitIndex = orbitCycle.indexOf(modelViewer.cameraOrbit);
            modelViewer.cameraOrbit =
                orbitCycle[(currentOrbitIndex + 1) % orbitCycle.length];
          }, 3000);
        })();

        const rotationModel = document.getElementById("rotation-model")
        const selectRotation = document.getElementById("rotation-select");
        const rotationValue = document.getElementById("rotation-degrees");
        const selectLoop = document.getElementById("loop-select");
        let x = 0, y=0, z=0, loop = true;
        selectLoop.addEventListener("change", setValues)
        selectRotation.addEventListener("change", setValues)
        rotationValue.addEventListener("change", setValues)

        function setValues(){
            if(selectRotation.value=="z") {x=1; y=0; z=0}
            else if (selectRotation.value=="x"){x=0; y =1; z=0}
            else if (selectRotation.value =="y") {x=0; y=0;z = 1;}
            if(selectLoop.value =="true") loop = true
            else loop = false;
            rotationModel.orientation = `${x * rotationValue.value}deg ${y* rotationValue.value}deg ${z* rotationValue.value}deg`
        }
        const canvas = document.querySelector('canvas.webgl')
const loadingManager = new THREE.LoadingManager()
const textureLoader = new THREE.TextureLoader(loadingManager);
const planeXZTexture = textureLoader.load('https://acodedoer.github.io/CO1301/Lab1/Grid.jpg')
const planeYTexture = textureLoader.load('https://acodedoer.github.io/CO1301/Lab1/Grid2.jpg')
const boxTexture = textureLoader.load('https://acodedoer.github.io/CO1301/Lab1/tiles1.jpg')

const scene = new THREE.Scene();

const planeYGeometry = new THREE.PlaneBufferGeometry(1,3, 1);
const planeYMaterial = new THREE.MeshBasicMaterial({map:planeYTexture, transparent:false});
const planeYMesh = new THREE.Mesh(planeYGeometry, planeYMaterial);
planeYMesh.position.set(0,1.5,0);


const planeXZGeometry = new THREE.PlaneBufferGeometry(6,6, 1);
const planeXZMaterial = new THREE.MeshBasicMaterial({map:planeXZTexture});
planeYMaterial.opacity = 0.5;
const planeXZMesh = new THREE.Mesh(planeXZGeometry, planeXZMaterial);
planeXZMesh.rotation.set(-Math.PI/2, 0, 0)

const cube = new THREE.BoxBufferGeometry(1,1, 1);
const cube_material = new THREE.MeshBasicMaterial({map:boxTexture, wireframe:false});
const cube_mesh = new THREE.Mesh(cube, cube_material);
cube_mesh.scale.set(0.5, 0.5, 0.5)
const size = {
    width: window.innerWidth/3,
    height: window.innerWidth/3
}
const camera = new THREE.PerspectiveCamera(75, size.width/size.height);
camera.position.set(5, 5, 10);
camera.rotation.set(0, 3.14/8, 0);
scene.add(cube_mesh, planeXZMesh, planeYMesh)
const renderer = new THREE.WebGLRenderer(
    {canvas: canvas}
);
renderer.setSize(size.width, size.height)
renderer.setClearColor("")

const parameters = {
    color: 0xff0000,
    toRight: ()=>{gsap.to(cube_mesh.position, {duration: 1, delay: 0, x:4})},
    toLeft: ()=>{gsap.to(cube_mesh.position, {duration: 1, delay: 0, x:-4})},
}

document.getElementById("incX").addEventListener("click", ()=>{
    var x = parseInt( document.getElementById("valX").value);
    x+=1;
    document.getElementById("valX").value= x;
    cube_mesh.position.set(x/20.0,cube_mesh.position.y, cube_mesh.position.z)
})


document.getElementById("decX").addEventListener("click", ()=>{ 
    document.getElementById("valX").value= parseInt( document.getElementById("valX").value)- 1;
    cube_mesh.position.set(parseInt( document.getElementById("valX").value)/20,cube_mesh.position.y, cube_mesh.position.z)
})

document.getElementById("incY").addEventListener("click", ()=>{
    document.getElementById("valY").value= parseInt( document.getElementById("valY").value)+ 1;
    cube_mesh.position.set(cube_mesh.position.x, parseInt( document.getElementById("valY").value)/20, cube_mesh.position.z)
})

document.getElementById("decY").addEventListener("click", ()=>{ 
    document.getElementById("valY").value= parseInt( document.getElementById("valY").value)- 1;
    cube_mesh.position.set(cube_mesh.position.x, parseInt( document.getElementById("valY").value)/20,  cube_mesh.position.z)
})

document.getElementById("incZ").addEventListener("click", ()=>{
    document.getElementById("valZ").value= parseInt( document.getElementById("valZ").value)+ 1;
    cube_mesh.position.set(cube_mesh.position.x, cube_mesh.position.y, -parseInt( document.getElementById("valZ").value)/20)
})

document.getElementById("decZ").addEventListener("click", ()=>{ 
    document.getElementById("valZ").value= parseInt( document.getElementById("valZ").value)- 1;
    cube_mesh.position.set(cube_mesh.position.x, cube_mesh.position.y, -parseInt( document.getElementById("valZ").value)/20)
})

const tick = () =>{

    renderer.render(scene, camera);
    window.requestAnimationFrame(tick)
    if(loop && rotationValue.value!=0){
            x+= rotationValue.value * (x/x);
            y+= rotationValue.value*(y/y);
            z+= rotationValue.value* (z/z);
            rotationModel.orientation = `${-x}deg ${y}deg ${z}deg`
        }
}

tick()

        </script>
</body>
</html>