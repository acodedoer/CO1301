<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://acodedoer.github.io/CO1301/assets/style.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script>
    <!-- and it&#039;s easy to individually load additional languages -->
    <script charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/go.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <style>
        td{
            padding: 0.5em;
        }
    </style>
    <title>Lab 16 - Particles</title>
</head>
<body>
    <header><h1>CO1301: Games Concepts <br>Lab 16 - Particles</h1></header>
    <main>
        <section>
            <h2>1. Introduction</h2>
            <div class="section_instrcutions"></div>
                <ol>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                This lab intorudces particles and particle systems.
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                A particle is an object with properties such as size, velocity and position. A particle system defines and controls the behavior of several particles to produce special effects  such as sparts, smoke, fire, explosions etc.
                            </p>
                        </div>
                    </li>
                </ol>
        </section>
        <section>
            <h2>2. Setting Up</h2>
            <div class="section_instrcutions"></div>
                <ol>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                Create a new TL-Engine project called "Lab16_ParticleSystem_Project". 
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                Load and create a skybox and floor model using "stars.x" and "floor.x" respectively. 
                            </p>
                        </div>
                    </li> 
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                Create a 'kManual' camera and position it at ( 0, 60, -180 ).
                            </p>
                        </div>
                    </li> 
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                You need to call the Timer() method in order to establish the first base time. The command needs to be placed outside the game loop, but make sure to place it immediately before the game loop. Call it using the following code:
                            </p>
                        <pre><code>myEngine->Timer();</code></pre>
                        </div>
                    </li> 
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                You then need to call Timer() once per frame, at the beginning of the game loop, immediately after <code>myEngine->DrawScene();</code>. Declare a variable of type float called frameTime to store the time taken for the last scene to be rendered:
                            </p>
                            <pre><code>float frameTime = myEngine->Timer();</code></pre>
                        </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                Use the draw command to output the frame time and FPS (frames per second can be caluclated by  1/frameTime) to the screen.
                            </p>
                        </div>
                    </li>  
                </ol>
            </section>
            <section>
                <h2>3. One Particle</h2>
                <div class="section_instrcutions"></div>
                <ol>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                Load the model file: "quad.x" from the media folder on Blackboard, and implement particle movement as set out in the instructions below.
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                The particle should start at the world origin ( 0, 0, 0 ), and should move vertically with a starting velocity of 110 units. <b>Remember to adjust the velocity using the frame time. </b>                               
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                The particle will, of course, shoot off the screen when you run the program.
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                Now apply gravity to the particle. A reasonable value for gravity is -50 units. Gravity is acceleration. Use the equation given in the lecture to apply the accelerative force of gravity
                            </p>
                            <p>
                                equation here
                            </p>
                        </div>
                    </li>  
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                The effect of gravity is downwards. Each frame you need to calculate the new velocity of the particle according to the effect of gravity. Note that gravity has a negative value. Use the frame time for delta-t ( &Delta;t).
                            </p>
                            <pre>
                                v = v' + a &times; &Delta;
                                where new velocity  = v
                                previous velocity = v'                           
                            </pre>
                        </div>
                    </li>  
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                You then move the particle using the new velocity (adjusted still by the frame time). The effect is  the particle will rise up into the air and then fall downwards.
                            </p>
                        </div>
                    </li> 
                </ol>
            </section>
            <section>
                <h2>4. Rebirthing the Particle</h2>
                <div class="section_instrcutions"></div>
                    <ol>     
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                When the particle hits the floor you need to reset its velocity. In this way the particle will be emitted, rise through the air; fall to the ground and then the process starts again
                            </p>
                        </div>
                    </li>     
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                Orientate the particle every frame towards the camera by using the LookAt() method.
                            </p>
                        </div>
                    </li>  
                </ol>
            </section>
            <section>
                <h2>5.Movement to either side</h2>
                <div class="section_instrcutions"></div>
                    <ol>     
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                It would be nice if the particle has a variance to its movement.
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                Define a structure to hold the movement vector of your particle. I would suggest the following:
                            </p>
                        </div>
<pre><code>struct particle
{
    IModel *model;
    float moveVector[3];
};
</code></pre>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                You also need  to define a function that returns a random value within a range of numbers:
                            </p>
<pre><code>// Return a random number in the range between rangeMin and rangeMax inclusive
// range_min <= random number <= range_max
float random( int rangeMin, int rangeMax)
{
	float result = (float)rand() / (float)(RAND_MAX + 1);
	result *= (float) (rangeMax - rangeMin);
	result += rangeMin;

	return result;
}</code></pre>
                        </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                Use the random function to modify the direction of movement which the particle takes as it comes out of the emitter by assigning its result to the x-component of the particle as it leaves the emitter.
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                You can use right-angle triangles to calculate a new value of the y component of the particle if you want. This will ultimately produce a better particle system.
                            </p>
                        </div>
                    </li>
                </ol>
            </section>
            <section>
                <h2>6. Advanced: Particle System</h2>
                <div class="section_instrcutions"></div>
                    <ol>        
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                Create an array of particles. You can safely create an array of 1000 particles.
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                Start them moving. Emit one particle very frame.
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                Use a loop with the array to apply gravity and move the particles
                            </p>
                        </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                When a particle hits the floor then reset its starting velocity as above.
                            </p>                        
                        </div>
                    </li>
                    <li>
                        <div class="list-div">
                            <p class= "instruction-item">
                                If you have implemented a variance to the initial direction of movement of the particles then you will create a "fan" and something much like a fountain.
                            </p>
                        </div>
                    </li>
                </ol>
            </section>
    </main>
    <script src="https://acodedoer.github.io/CO1301/assets/script.js"></script>
</body>
</html>